<!DOCTYPE html>
<html>
<head>
<title>Práctica obligatoria - Módulo 4</title>
<meta charset="utf-8">

<script type="text/javascript">
  // 1) Operaciones unitarias (con un solo operando):
    // 1.1) x^2 (número elevado al cuadrado)
  function cuadrado () {
    var num1 = document.getElementById("num1");
    num1.value = num1.value * num1.value
  }
    // 1.2) 1/x (inverso del número)
  function inverso () {
    var num1 = document.getElementById("num1");
    num1.value = 1 / num1.value
  }
    // 1.3) sqrt(x) (raiz cuadrada del número)
  function raiz () {
    var num1 = document.getElementById("num1");
    num1.value = Math.sqrt(num1.value);
  }
    /* 1.4) parte_entera(x) (parte entera de x:
      si x es positivo devuelve Math.floor(x) y
      si es negativo devuelve -Math.ceil(x)) */
  function parte_entera () {
    var num1 = document.getElementById("num1");
    if (num1 >= 0) {
      num1.value = Math.floor(num1.value);
    } else {
      num1.value = -Math.ceil(num1.value);
    }
  }

  // 2) Operaciones binarias (con dos operandos):
  var num2, guardado = 0, op = "";
  // 2.1) +. -. *, / (suma, resta, multiplicación y división)
  function sumar()       { guardado = num2.value;  op = "+"; }
  function restar()      { guardado = num2.value;  op = "-"; }
  function multiplicar() { guardado = num2.value;  op = "*"; }
  function dividir()     { guardado = num2.value;  op = "/"; }
  // 2.2) x^y (x elevado a y)
  function xy()          { guardado = num2.value;  op = "^"; }

  function resultado() {
    if (op === "+") {
      num2.value = (+guardado + +num2.value)
    } else if (op === "-") {
      num2.value = (+guardado - +num2.value)
    } else if (op === "*") {
      num2.value = (+guardado * +num2.value)
    } else if (op === "/") {
      num2.value = (+guardado / +num2.value)
    } else if (op === "^") {
      num2.value = Math.pow(+guardado, num2.value);
    }
  }

  function inic () { num2 = document.getElementById("num2"); }
  function vaciar (objeto) { objeto.value = ""; }
</script>
</head>
<body onLoad="inic()">
  <h1>Buenos días, bienvenido a la calculadora de José Juan</h1>

  <p>
    Introduce un número: <input type="text" size="12" id="num1" onClick="vaciar(this)">
    <!-- 1) Operaciones unitarias (con un solo operando):  -->
      <!-- 1.1) x^2 (número elevado al cuadrado) -->
    <button onClick="cuadrado()">x<sup>2</sup></button>
      <!-- 1.2) 1/x (inverso del número) -->
    <button onClick="inverso()">1/x</button>
      <!-- 1.3) sqrt(x) (raiz cuadrada del número) -->
    <button onClick="raiz()">Raíz cuadrada</button>
      <!-- 1.4) parte_entera(x) -->
    <button onClick="parte_entera()">Parte entera</button>
  </p>

  <p>
    <!-- 2) Operaciones binarias (con dos operandos):   -->
    Introduce un número: <input type="text" id="num2" size="12" onClick="vaciar(this)">
    <!-- 2.1) +. -. *, / (suma, resta, multiplicación y división) -->
    <button onClick="sumar(this)">Sumar</button>
    <button onClick="restar(this)">Restar</button>
    <button onClick="multiplicar(this)">Multiplicar</button>
    <button onClick="dividir(this)">Dividir</button>
    <!-- 2.2) x^y (x elevado a y) -->
    <button onClick="xy(this)">Elevar</button>

    <button onClick="resultado()">Resultado</button>
  </p>

  </p>
</body>
</html>
